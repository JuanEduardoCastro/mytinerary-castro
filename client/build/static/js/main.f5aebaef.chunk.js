(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{63:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(34),s=a.n(n),i=(a(63),a(53)),o=a(54),l=a(57),d=a(56),u=a(5),m=a(9),j=a(14),b=a(16),x=a(29),h=a(23),f=a.n(h),p=(a(28),a(12)),g=a(3),O=a.n(g),v=a(10),y=a(7),N=a(17),w=a.n(N),k={addNewUser:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("https://mytinerary-castro.herokuapp.com/api/user/signup",Object(v.a)({},e));case 2:return(r=t.sent).data.success&&a({type:"LOG_IN_USER",payload:r.data.response}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logInUser:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("https://mytinerary-castro.herokuapp.com/api/user/login",Object(v.a)({},e));case 2:return(r=t.sent).data.response&&a({type:"LOG_IN_USER",payload:r.data.response}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logOutUser:function(){return function(e){e({type:"LOG_OUT_USER"})}},logInLocalStorage:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("https://mytinerary-castro.herokuapp.com/api/verifyToken",{headers:{Authorization:"Bearer "+e}});case 3:r=t.sent,a({type:"LOG_IN_USER",payload:{token:e,userName:r.data.userName,userPhoto:r.data.userPhoto,userEmail:r.data.userEmail}}),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",a({type:"LOG_OUT_USER"}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getCountriesList:function(){return function(){var e=Object(y.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://restcountries.com/v3.1/all");case 2:if("200"!==!(a=e.sent).status){e.next=5;break}throw new Error("Ther was a problem with the database");case 5:t({type:"GET_COUNTRIES_LIST",payload:a.data});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},C=a(96),I=a(0),S={logOutUser:k.logOutUser},E=Object(p.b)((function(e){return{token:e.users.token,userName:e.users.userNameStore,userPhoto:e.users.userPhotoStore,userEmail:e.users.userEmailStore}}),S)((function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1];Object(r.useEffect)((function(){f.a.init({offset:120,duration:600})}),[]);var d=Object(x.a)((function(){n(!1)})),h=Object(x.a)((function(){l(!1)})),p={visible:{opacity:1},hidden:{opacity:0}},g={visible:{opacity:1,x:0},hidden:{opacity:0,x:-100}};return Object(I.jsx)("header",{"data-aos":"fade-down",className:"relative w-full h-28 md:h-28",children:Object(I.jsxs)("nav",{className:"h-full flex justify-between items-start md:items-center ",children:[Object(I.jsxs)("div",{className:"hidden md:flex md:items-center md:block py-2.5 px-8 gap-3 text-5xl tracking-wider permanentMarkerFont leading-10",children:[Object(I.jsx)("img",{src:"https://i.imgur.com/slgCIZZ.png",alt:"logo mytinerary",className:"w-24 h-24 m-1"}),Object(I.jsx)("h1",{className:"".concat(e.textColorTag&&"text-white"),children:"Mytinerary"})]}),Object(I.jsxs)("div",{className:"w-full h-full flex justify-between md:justify-end items-start md:items-start md:gap-4 pt-3 px-8",children:[Object(I.jsxs)("div",{className:" flex flex-col items-start justify-center pt-4",children:[Object(I.jsxs)(C.a.div,{ref:d,className:" block md:hidden flex flex-col items-end gap-2",children:[Object(I.jsx)(C.a.div,{whileHover:{scale:1.1},onClick:function(){return n(!c)},className:"",children:Object(I.jsx)(j.a,{icon:c?b.i:b.a,size:"2x",className:"text-indigo-900"})}),Object(I.jsxs)(C.a.div,{initial:c?"hidden":"visible",animate:c?"visible":"hidden",variants:p,className:"flex flex-col items-end gap-2",children:[Object(I.jsx)(C.a.div,{variants:g,children:Object(I.jsx)(m.c,{exact:!0,to:"/",activeClassName:"text-indigo-700",className:"text-xl hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Home"})})}),Object(I.jsx)(C.a.div,{variants:g,children:Object(I.jsx)(m.c,{to:"/cities",activeClassName:"text-indigo-700",className:"text-xl hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Cities"})})})]})]}),Object(I.jsxs)("div",{className:"hidden md:block flex flex-col md:flex md:flex-row text-center list-none gap-4 text-xl cursor-pointer py-2.5 px-2 md:pt-4 overflow-visible text-bolder",children:[Object(I.jsx)(m.c,{exact:!0,to:"/",activeClassName:"text-indigo-700",className:"hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Home"})}),Object(I.jsx)(m.c,{to:"/cities",activeClassName:"text-indigo-700",className:"hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Cities"})})]})]}),Object(I.jsxs)(C.a.div,{ref:h,className:"flex flex-col items-center gap-2",children:[Object(I.jsx)(C.a.div,{whileHover:{scale:1.1},onClick:function(){return l(!o)},className:"",children:e.token?Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.userPhoto,'")')},className:"w-16 h-16 bg-cover bg-center rounded-full cursor-pointer"}):Object(I.jsx)(j.a,{icon:b.k,size:"4x",className:"text-indigo-900 cursor-pointer"})}),Object(I.jsxs)(C.a.div,{initial:o?"hidden":"visible",animate:o?"visible":"hidden",variants:p,className:"flex flex-col items-end gap-2",children:[Object(I.jsx)(C.a.div,{variants:g,children:!e.token&&Object(I.jsx)(m.c,{to:"/signup",activeClassName:"text-indigo-700",className:"text-xl hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Sign up"})})}),Object(I.jsx)(C.a.div,{variants:g,children:!e.token&&Object(I.jsx)(m.c,{to:"/login",activeClassName:"text-indigo-700",className:"text-xl hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Log in"})})}),Object(I.jsx)(C.a.div,{variants:g,children:e.token&&Object(I.jsx)("p",{className:"text-xl cursor-pointer hover:text-indigo-700",children:e.userName})}),Object(I.jsx)(C.a.div,{variants:g,children:e.token&&Object(I.jsx)("p",{onClick:function(){e.logOutUser(),"/"!==window.location.pathname&&e.history.push("/")},className:"text-xl cursor-pointer hover:text-indigo-700",children:"Log out"})})]})]})]})]})})})),L=Object(p.b)((function(e){return{userName:e.users.userNameStore}}))((function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],n=a[1];return Object(r.useEffect)((function(){e.userName&&n(!0)}),[]),setTimeout((function(){n(!1)}),3e3),Object(I.jsxs)("div",{className:"w-full min-h-screen flex flex-col justify-center items-center gap-8 pb-48",children:[c&&Object(I.jsx)("div",{className:"".concat(e.userName?"block":"hidden"," absolute w-4/5 md:w-1/3 h-20 inset-x-0 top-20 mx-auto"),children:Object(I.jsx)("div",{className:"flex justify-center items-center mx-auto w-full h-28 mt-10 border border-indigo bg-indigo-200 bg-opacity-90",children:Object(I.jsx)("h2",{className:"text-xl md:text-2xl text-center",children:"Welcome ".concat(e.userName)})})}),Object(I.jsx)("div",{className:"text-center text-5xl font-semibold tracking-wide mt-4 md:hidden permanentMarkerFont",children:Object(I.jsx)("h1",{children:"Mytinerary"})}),Object(I.jsx)("div",{className:"px-8 py-4 text-2xl md:text-4xl italic text-indigo-900  text-center",children:Object(I.jsx)("h3",{children:"Find your perfect trip, designed by insiders who know and love their cities!"})}),Object(I.jsx)(m.c,{to:"/cities",children:Object(I.jsx)("button",{className:"btn shadow-2xl text-2xl italic ",children:"Let\xb4s find out together!"})})]})})),T=a(98),_=a(95),U=(a(89),a(97)),P=a(92),F=a(93),B=a(94);U.a.use([P.a,F.a,B.a]);var A=Object(I.jsx)(T.a,{id:"main",grabCursor:!0,navigation:!0,pagination:{clickable:!0},spaceBetween:10,slidesPerView:1,loop:!0,autoplay:{dealy:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},children:[[{ubicacion:"hong_kong_06.jpeg",nombre:"Hong Kong"},{ubicacion:"bangkok02.jpeg",nombre:"Bangkok"},{ubicacion:"macau05.jpeg",nombre:"Macau"},{ubicacion:"singapore05.jpeg",nombre:"Singapore"}],[{ubicacion:"london01.jpeg",nombre:"London"},{ubicacion:"paris01.jpeg",nombre:"Paris"},{ubicacion:"dubai04.jpeg",nombre:"Dubai"},{ubicacion:"delhi05.jpeg",nombre:"Delhi"}],[{ubicacion:"istambul01.jpeg",nombre:"Istanbul"},{ubicacion:"kualalumpur01.jpeg",nombre:"Kuala Lumpur"},{ubicacion:"new_york02.jpeg",nombre:"New York"},{ubicacion:"shenzhen01.jpeg",nombre:"Shenzhen"}]].map((function(e,t){return Object(I.jsx)(_.a,{children:Object(I.jsx)("div",{className:"w-full h-full p-12 grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map((function(e,t){return Object(I.jsx)("div",{style:{backgroundImage:'url("/assets/cities/'.concat(e.ubicacion,'")')},alt:"slide ".concat(e.nombre),className:"text-white font-medium text-3xl hover:text-7xl md:text-5xl backdrop-filter backdrop-opacity-80  bg-center bg-cover rounded-md flex justify-start items-end px-8 pb-8 fotoText hover:opacity-50 duration-300",children:Object(I.jsx)("div",{className:"hover:text-7xl",children:Object(I.jsx)("h2",{children:e.nombre})})},"slide-".concat(t))}))})},"slide-".concat(t))}))}),z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.title="Home - Mytinerary",window.scrollTo(0,0),f.a.init({offset:120,duration:400})}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"bg-gradient-to-b from-indigo-300",children:[Object(I.jsx)("div",{style:{backgroundImage:'url("https://i.imgur.com/zJKyzjj.jpg")'},alt:"background plane",className:"bg-top bg-cover bg-opacity-70 ",children:Object(I.jsxs)("div",{className:"bg-indigo-200 bg-opacity-40",children:[Object(I.jsx)(E,{}),Object(I.jsx)(L,{})]})}),Object(I.jsxs)("div",{"data-aos":"fade-up",className:"m-2 md:m-20",children:[Object(I.jsx)("div",{className:"text-center text-3xl sm:text-4xl md:text-6xl mb-6 mt-6 md:mb-12 md:mr-8 permanentMarkerFont tracking-wider",children:Object(I.jsx)("h2",{children:"Popular Mytineraries"})}),A]})]})}}]),a}(c.a.Component),q=function(){return Object(r.useLayoutEffect)((function(){window.scrollTo(0,0)})),Object(I.jsxs)(C.a.div,{inital:{x:-900},animate:{x:0},transition:{duration:1,ease:"easeIn"},className:"w-full h-screen bg-indigo-200 flex justify-center items-center gap-1 block overflow-hidden ",children:[Object(I.jsx)(C.a.div,{initial:{x:-900},animate:{x:0},transition:{duration:.5,delay:.5},className:"w-12 h-12 bg-red-500 animate-pulse"}),Object(I.jsx)(C.a.div,{initial:{x:-900},animate:{x:0},transition:{duration:.5,delay:.4},className:"w-12 h-12 bg-red-500 animate-pulse"}),Object(I.jsx)(C.a.div,{initial:{x:-900},animate:{x:0},transition:{duration:.5,delay:.3},className:"w-12 h-12 bg-red-500 animate-pulse"}),Object(I.jsx)(C.a.div,{initial:{x:-900},animate:{x:0},transition:{duration:.5,delay:.2},className:"w-12 h-12 bg-red-500 animate-pulse"}),Object(I.jsx)(C.a.div,{initial:{x:-900},animate:{x:0},transition:{duration:.5,delay:.1},className:"w-12 h-12 bg-red-500 animate-pulse"})]})},G=function(e){return Object(r.useLayoutEffect)((function(){window.scrollTo(0,0)})),setTimeout((function(){e.history.push("/")}),5e3),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{children:[Object(I.jsx)(E,{}),Object(I.jsxs)("div",{className:"w-full h-screen flex flex-col items-center justify-start text-center",children:[Object(I.jsx)("img",{src:"https://i.imgur.com/bjeuiBg.png?1",alt:"error 404",className:"py-4"}),Object(I.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 text-2xl",children:[Object(I.jsx)("h2",{children:"Sorry, this page doesn\xb4t exist or is no longer available."}),Object(I.jsxs)("h2",{children:["Go back to ",Object(I.jsx)(m.b,{to:"/",children:Object(I.jsx)("span",{className:"hover:text-indigo-700 transition-all hover:scale-110 py-2 permanentMarkerFont text-5xl",children:" Mytinerary "})})," home page."]})]})]})]})})},M={getCitiesList:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://mytinerary-castro.herokuapp.com/api/information/cities",{headers:{Authorization:"Bearer "+e}});case 2:if((r=t.sent).data.success){t.next=5;break}throw new Error("There was a problem with the database");case 5:c=r.data.response,a({type:"GET_CITIES_LIST",payload:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getCitiesFiltered:function(e){return function(t){t({type:"GET_CITIES_FILTERED",payload:e})}},getUniqCity:function(e){return function(t){t({type:"GET_UNIQ_CITY",payload:e})}}},R={getCitiesList:M.getCitiesList,getCitiesFiltered:M.getCitiesFiltered},H=Object(p.b)((function(e){return{allCitiesList:e.cities.citiesListStore,citiesFiltered:e.cities.citiesFilteredStore,token:e.users.token}}),R)((function(e){document.title="Cities";var t=Object(r.useState)(!0),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(""),j=Object(u.a)(d,2),b=j[0],x=j[1],h=Object(r.useState)(null),p=Object(u.a)(h,2),g=p[0],v=p[1];if(Object(r.useLayoutEffect)((function(){window.scrollTo(0,0)})),Object(r.useEffect)((function(){f.a.init({offset:80,duration:600})}),[]),Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCitiesList(e.token);case 3:n(!1),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),n(!1),v(t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),g)return Object(I.jsx)("div",{children:Object(I.jsx)(G,{history:e.history})});if(c)return Object(I.jsx)("div",{children:Object(I.jsx)(q,{})});var N=(""===b?e.allCitiesList:e.citiesFiltered).map((function(e,t){return Object(I.jsx)(m.b,{to:"/city/".concat(e._id),className:"flex justify-center w-10/12 mx-auto",children:Object(I.jsxs)("div",{"data-aos":"fade-up",className:"relative group flex items-center justify-center my-3 overflow-hidden shadow-md w-full h-64 rounded-md",children:[Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.imgSource,'")')},alt:e.cityName,className:"absolute w-full h-full transition-all duration-1000 ease-in-out transform bg-center bg-cover group-hover:scale-125 delay-100"},t),Object(I.jsx)("div",{className:"absolute w-full h-full transition-border duration-700 ease-in-out transform border border-black border-4 group-hover:opacity-70 group-hover:scale-90 delay-200 opacity-60",children:Object(I.jsxs)("div",{className:"w-full h-full hover:bg-indigo-300",children:[Object(I.jsxs)("div",{className:"absolute text-5xl transition-text duration-700 transform easy-in-out hover:text-6xl pl-4 pt-2 heroText",children:[Object(I.jsx)("h2",{children:e.cityName}),Object(I.jsx)("h2",{children:e.countryName})]}),Object(I.jsx)("div",{className:"w-full h-full text-transparent sm:hover:text-black ",children:Object(I.jsx)("div",{className:"absolute w-8/12  bottom-3 right-3 sm:text-lg md:text-2xl lg:text:2xl text-justify ",children:Object(I.jsx)("h2",{children:e.description})})})]})})]})},t)})),w=Object(I.jsxs)("div",{style:{backgroundImage:'url("https://i.imgur.com/6zHiJfR.jpg?1")'},alt:"background living",className:"w-full h-72 flex flex-col justify-between bg-top bg-cover border-b-8 border-indigo-700 rounded-b-sm",children:[Object(I.jsx)(E,{history:e.history}),Object(I.jsx)("div",{className:"w-full h-48 flex justify-center items-center",children:Object(I.jsx)("input",{type:"text",name:"filterCity",value:b,placeholder:"Find a city to explore",className:"border border-indigo-700 focus:indigo-700 rounded-lg bg-white text-black text-2xl md:text-4xl mt-8 px-4 py-2 text-center ",onChange:function(t){e.getCitiesFiltered(t.target.value),x(t.target.value)}})})]});return Object(I.jsxs)(I.Fragment,{children:[w,N.length>0?Object(I.jsxs)("div",{className:" bg-gradient-to-t from-indigo-300 py-8 pb-12",children:[" ",N," "]}):Object(I.jsxs)("div",{className:"w-full h-full text-center py-4 flex flex-col items-center justify-around bg-gradient-to-t from-red-200 pt-8 pb-10",children:[Object(I.jsx)("img",{src:"https://i.imgur.com/ZsCN2Qk.png",alt:"Not found logo",className:"w-32 h-32"}),Object(I.jsx)("h2",{className:"text-2xl md:text-4xl text-black tracking-wide",children:"Sorry, we don\xb4t have information about that city."}),Object(I.jsx)("div",{className:"flex flex-col items-center mt-4 gap-4 text-indigo-900",children:Object(I.jsx)("div",{children:Object(I.jsx)("button",{onClick:function(){l(!1),!1===o&&(l(!0),x(""))},className:"btn text-2xl",children:"Try again!"})})})]})]})})),D={getActivitiesOfItinerary:{getActivitiesOfItinerary:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://mytinerary-castro.herokuapp.com/api/activities/".concat(e));case 2:if((r=t.sent).data.success){t.next=7;break}throw new Error("problema con DB");case 7:return c=r.data.response,t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}.getActivitiesOfItinerary},Y=Object(p.b)(null,D)((function(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),c=a[0],n=a[1];return Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getActivitiesOfItinerary(e.itineraryId);case 3:a=t.sent,n(a),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(T.a,{id:"swiperActivites",grabCursor:!0,navigation:!0,pagination:!1,spaceBetween:10,slidesPerView:1,loop:!0,autoplay:{dealy:3500,disableOnInteraction:!1,pauseOnMouseEnter:!0},children:c.map((function(e,t){return Object(I.jsx)(_.a,{children:Object(I.jsx)("div",{className:"",children:Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.activityPhoto,'")')},alt:"slide ".concat(e.activityTitle),className:"flex items-end w-full h-80 bg-center bg-cover rounded-md ",children:Object(I.jsx)("div",{className:"w-full font-medium text-white text-xl md:text-xl p-2.5 text-justify bg-indigo-300 bg-opacity-80",children:Object(I.jsx)("h2",{children:e.activityTitle})})},"slide-".concat(t))})},"slide-".concat(t))}))})})})),J={getItineraries:function(){return function(){var e=Object(y.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://mytinerary-castro.herokuapp.com/api/itineraries");case 2:if((a=e.sent).data.success){e.next=5;break}throw new Error("There was a problem with the database");case 5:r=a.data.response,t({type:"GET_ITINERARIES",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getItinerariesOfACity:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://mytinerary-castro.herokuapp.com/api/itineraries/".concat(e));case 2:if((r=t.sent).data.success){t.next=5;break}throw new Error("There was a problem with the database");case 5:c=r.data.response,a({type:"GET_ITINERARIES_FROM_A_CITY",payload:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getItineraryForUserLike:function(e,t){return function(){var a=Object(y.a)(O.a.mark((function a(r){var c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.get("https://mytinerary-castro.herokuapp.com/api/itinerary/likes/".concat(t),{headers:{Authorization:"Bearer "+e}});case 2:if((c=a.sent).data.success){a.next=7;break}throw new Error("There was a problem with the database");case 7:return a.abrupt("return",c.data);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},updateLikes:function(e,t){return function(){var a=Object(y.a)(O.a.mark((function a(r){var c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.put("https://mytinerary-castro.herokuapp.com/api/itinerary/likes/".concat(t),void 0,{headers:{Authorization:"Bearer "+e}});case 2:if((c=a.sent).data.success){a.next=7;break}throw new Error("There was a problem with the database");case 7:return a.abrupt("return",c.data.response);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},addNewComment:function(e,t,a){return function(){var r=Object(y.a)(O.a.mark((function r(c){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.a.put("https://mytinerary-castro.herokuapp.com/api/itinerary/comments/".concat(e),{comment:t},{headers:{Authorization:"Bearer "+a}});case 2:if((n=r.sent).data.success){r.next=7;break}throw new Error("There was a problem with the database");case 7:return r.abrupt("return",n);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},getComments:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://mytinerary-castro.herokuapp.com/api/itinerary/comments/".concat(e));case 2:if((r=t.sent).data.success){t.next=7;break}throw new Error("There was a problem with the database");case 7:return t.abrupt("return",r.data);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteCommentByUserId:function(e,t,a){return function(){var r=Object(y.a)(O.a.mark((function r(c){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.a.put("https://mytinerary-castro.herokuapp.com/api/itinerary/comments/".concat(e),{comment:t},{headers:{Authorization:"Bearer "+a}});case 2:if((n=r.sent).data.success){r.next=7;break}throw new Error("problem con database");case 7:return r.abrupt("return",n.data);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},K={deleteCommentByUserId:J.deleteCommentByUserId},V=Object(p.b)((function(e){return{token:e.users.token,userEmail:e.users.userEmailStore}}),K)((function(e){var t=Object(r.useState)({flag:"trash",commentId:e.comment.commentId}),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(!1),m=Object(u.a)(d,2),x=m[0],h=m[1],f=Object(r.useState)(""),p=Object(u.a)(f,2),g=p[0],O=p[1];Object(r.useEffect)((function(){O(e.comment.userComment),n({flag:"trash",commentId:e.comment.commentId})}),[]);return Object(I.jsxs)("div",{className:"relative w-full ",children:[Object(I.jsxs)("div",{className:"w-full flex items-center justify-start gap-1 ",children:[Object(I.jsx)("div",{className:" ",children:Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.comment.userPhoto,'")')},className:"w-10 h-10 bg-cover bg-center rounded-full "})}),Object(I.jsxs)("div",{className:"relative w-11/12 h-12 flex flex-col mx-auto border border-gray rounded-lg bg-gray-100 px-2",children:[Object(I.jsx)("h2",{className:"text-sm",children:e.comment.userName}),o?Object(I.jsxs)("div",{children:[Object(I.jsx)("input",{type:"text",onChange:function(e){O(e.target.value),n(Object(v.a)(Object(v.a)({},c),{},{userComment:e.target.value,flag:"edit"}))},value:g,placeholder:"Your comment here",className:"w-full pr-10 pl-3 inputBox"}),Object(I.jsx)(j.a,{icon:b.f,onClick:function(){e.sendEditCommentHandler(e.comment.itineraryId,c,e.token),l(!o),n(Object(v.a)(Object(v.a)({},c),{},{userComment:g,flag:"trash"}))},className:"absolute position top-8 right-6 transform rotate-45 scale-125 text-indigo-800 cursor-pointer"})]}):Object(I.jsx)("h2",{className:"text-base",children:e.comment.userComment})]})]}),Object(I.jsxs)("div",{className:"flex justify-end gap-3 pr-4 py-1",children:[Object(I.jsx)("button",{className:e.userEmail===e.comment.userEmail?"block":"hidden",children:Object(I.jsx)(j.a,{onClick:function(){h(!0),n(Object(v.a)(Object(v.a)({},c),{},{flag:"trash"}))},icon:b.j,className:"cursor-pointer"})}),Object(I.jsx)("button",{className:e.userEmail===e.comment.userEmail?"block":"hidden",children:Object(I.jsx)(j.a,{onClick:function(){l(!o),n(Object(v.a)(Object(v.a)({},c),{},{userComment:g,flag:"edit"}))},icon:b.g,className:"cursor-pointer"})})]}),x&&Object(I.jsx)("div",{className:"absolute w-64 h-32 md:w-80 md:h-40 left-3 md:top-5 md:left-28 bg-indigo-300 bg-opacity-40 text-center border border-gray-200 rounded-md  ",children:Object(I.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center gap-8",children:[Object(I.jsx)("h2",{className:"text-xl ",children:"Are you sure?"}),Object(I.jsxs)("div",{className:"flex justify-center gap-12",children:[Object(I.jsx)("button",{onClick:function(){h(!1)},className:"btn py-1 px-3 ",children:"No!"}),Object(I.jsx)("button",{onClick:function(){return e.trashMessageHandle(e.comment.itineraryId,c,e.token)},className:"btn py-1 px-3 ",children:"Erase"})]})]})})]})})),Z={addNewComment:J.addNewComment,getComments:J.getComments,deleteCommentByUserId:J.deleteCommentByUserId},W=Object(p.b)((function(e){return{token:e.users.token,userEmail:e.users.userEmailStore}}),Z)((function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)([]),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)({itineraryId:"",userComment:"",commentId:"",flag:"send"}),x=Object(u.a)(d,2),h=x[0],f=x[1],p=Object(r.useState)(!1),g=Object(u.a)(p,2),v=g[0],N=g[1];Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getComments(e.itineraryId);case 3:(a=t.sent).success&&(l(a.response[0].comments),n(!1)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error al traer comentarios");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[c]);var w=function(t,a,r){e.token?(e.deleteCommentByUserId(t,a,r),n(!0)):N(!0)},k=function(t,a,r){e.token?(e.deleteCommentByUserId(t,a,r),n(!0)):N(!0)};return setTimeout((function(){N(!1)}),5e3),Object(I.jsxs)("div",{className:"flex flex-col items-center w-full h-full rounded-md",children:[Object(I.jsx)("div",{className:"flex-col items-end justify-start w-11/12 h-5/6 mt-2 overflow-y-auto",children:o.map((function(e,t){return Object(I.jsx)(V,{sendEditCommentHandler:k,trashMessageHandle:w,comment:e,className:"bg-red-300"},t)}))}),Object(I.jsxs)("div",{className:"relative w-4/5 flex flex-col items-center justify-center mx-auto pb-2",children:[Object(I.jsx)("input",{type:"text",onChange:function(t){e.token?f({itineraryId:e.itineraryId,userComment:t.target.value,commentId:o.length+1,flag:"send"}):N(!0)},value:h.userComment,placeholder:"Your comment here",className:"w-full pr-10 pl-3 inputBox"}),Object(I.jsx)(j.a,{icon:b.f,onClick:function(){e.token?(e.addNewComment(e.itineraryId,h,e.token),f({itineraryId:"",userComment:"",commentId:"",flag:"send"}),n(!0)):N(!0)},className:"absolute position right-3 transform rotate-45 scale-125 text-indigo-800 cursor-pointer"})]}),Object(I.jsx)("div",{className:v?"block":"hidden",children:Object(I.jsxs)("h2",{children:["You must be logged in to post a message. ",Object(I.jsx)(m.b,{to:"/login",className:"text-lg text-indigo-700",children:"Log in!"})]})})]})})),Q={updateLikes:J.updateLikes,getItineraryForUserLike:J.getItineraryForUserLike},X=Object(p.b)((function(e){return{token:e.users.token,updateLikes:e.users.updateLikes}}),Q)((function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(!1),x=Object(u.a)(d,2),h=x[0],p=x[1],g=Object(r.useState)(parseInt(e.itinerary.usersIdList.length)),v=Object(u.a)(g,2),N=v[0],w=v[1];Object(r.useLayoutEffect)((function(){f.a.init({offset:120,duration:600})})),Object(r.useEffect)((function(){e.token&&function(){var t=Object(y.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItineraryForUserLike(e.token,e.itinerary._id);case 3:(a=t.sent).success&&(a.userLike?l(!0):l(!1)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[]);for(var k=[],C=0;C<e.itinerary.price;C++)k.push(Object(I.jsx)("div",{style:{backgroundImage:'url("https://i.imgur.com/i01tF8f.png")'},className:"w-12 h-12 bg-cover bg-center"},C));var S=function(){n(!c)},E=function(){e.token?(!function(){L.apply(this,arguments)}(),o?(w(N-1),l(!1)):(w(N+1),l(!0))):(l(!1),p(!0))};function L(){return(L=Object(y.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateLikes(e.token,e.itinerary._id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("error");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return setTimeout((function(){p(!1)}),5e3),Object(I.jsx)("div",{className:"w-full h-full mb-14 ",children:Object(I.jsxs)("div",{className:"w-9/12 border mx-auto shadow-md bg-gradient-to-b from-indigo-200",children:[Object(I.jsx)("div",{className:"text-2xl text-center p-2.5 sm:p-3",children:Object(I.jsx)("h2",{className:"",children:e.itinerary.itineraryName})}),Object(I.jsxs)("div",{className:"flex flex-col md:flex-row m-2.5 justify-center ",children:[Object(I.jsx)("div",{className:"w-auto md:w-2/5 h-auto p-4 md:p-2.5 ",children:Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.itinerary.itineraryPhoto,'")')},alt:"Photo ".concat(e.itinerary.itineraryName),className:"w-full h-80 bg-cover bg-center rounded-md shadow-md"})}),Object(I.jsxs)("div",{className:"flex flex-col w-auto md:w-3/5 h-auto border-2 border-grey-500 rounded-md shadow-md ",children:[Object(I.jsxs)("div",{className:"relative flex items-center justify-between pr-12",children:[Object(I.jsxs)("div",{className:"flex justify-start items-center p-4 gap-4 ",children:[Object(I.jsx)("h2",{className:"hidden md:block",children:e.itinerary.authorName}),Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.itinerary.authorPhoto,'")')},alt:"Photo ".concat(e.itinerary.authorName),className:"w-20 h-20 bg-cover bg-center rounded-full"})]}),Object(I.jsxs)("div",{className:"flex items-center gap-2",children:[o?Object(I.jsx)(j.a,{onClick:E,icon:b.d,size:"2x",className:"pr-1 transform scale-105 text-red-600 cursor-pointer"}):Object(I.jsx)("div",{onClick:E,style:{backgroundImage:'url("https://i.imgur.com/DK0P6fj.png")'},className:"w-9 h-9 bg-center transform scale-90 ml-1 bg-cover cursor-pointer"}),Object(I.jsx)("h2",{className:"text-xl",children:N})]}),Object(I.jsx)("div",{className:"absolute top-1 right-4",children:Object(I.jsxs)("h2",{className:h?"block":"hidden",children:["You must be logged in to like. ",Object(I.jsx)(m.b,{to:"/login",className:"text-lg text-indigo-700",children:"Log in!"})]})})]}),Object(I.jsx)("h2",{className:"block md:hidden text-2xl px-4 pb-3",children:e.itinerary.authorName}),Object(I.jsx)("div",{className:"px-4 italic text-justify",children:Object(I.jsx)("h2",{className:"text-lg",children:'"'.concat(e.itinerary.introSentence,'"')})}),Object(I.jsxs)("div",{className:"pt-2 pl-4",children:[Object(I.jsx)("div",{className:"w-full flex justify-start gap-3 text-sm text-gray-500 pl-4 flex-wrap",children:e.itinerary.hashtags.map((function(e,t){return Object(I.jsx)("h2",{children:"#".concat(e)},t)}))}),Object(I.jsxs)("div",{className:"flex w-full justify-start gap-4 py-6 flex-wrap",children:[Object(I.jsxs)("div",{className:"flex items-center flex-wrap",children:[Object(I.jsx)("h2",{children:"Price: "}),k.map((function(e){return e}))]}),Object(I.jsxs)("div",{className:"flex items-center gap-4 pl-2",children:[Object(I.jsx)(j.a,{icon:b.b,size:"2x",className:"transform scale-75"}),Object(I.jsxs)("h2",{children:[e.itinerary.duration," hours"]})]})]})]})]})]}),Object(I.jsxs)("div",{className:"w-full flex flex-col justify-center items-center my-2.5 ",children:[Object(I.jsx)("div",{className:c?"hidden":"block",children:Object(I.jsx)("button",{onClick:S,className:"btn",children:"View more"})}),Object(I.jsx)("div",{className:"w-full h-full",children:Object(I.jsx)("div",{className:c?"block":"hidden",children:Object(I.jsxs)("div",{className:"w-full h-full py-4 pb- flex flex-col items-center justify-around tracking-wide ",children:[Object(I.jsxs)("div",{className:"w-full h-full flex flex-col md:flex-row m-2.5 justify-center ",children:[Object(I.jsx)("div",{className:"flex flex-col w-auto md:w-3/5 h-80 border-2 border-grey-500 rounded-md shadow-md mt-8 md:mt-2",children:Object(I.jsx)(W,{itineraryId:e.itinerary._id})}),Object(I.jsx)("div",{className:"w-auto md:w-2/5 h-80 p-4 md:p-2 order-first md:order-last",children:c&&Object(I.jsx)(Y,{itineraryId:e.itinerary._id,className:""})})]}),Object(I.jsx)("button",{onClick:S,className:"btn",children:"View less"})]})})})]})]})})})),$=function(){return Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:" w-full h-full fotoText",children:Object(I.jsxs)("div",{className:"w-full py-4 pb-6 flex flex-col items-center justify-around bg-gradient-to-t from-red-200 tracking-wide text-center",children:[Object(I.jsx)("img",{src:"https://i.imgur.com/l8bw9NJ.png",alt:"Not found logo",className:"w-44 h-44"}),Object(I.jsx)("h2",{className:"text-4xl text-black",children:"We don\xb4t have itineraries at this moment!"}),Object(I.jsx)("h2",{className:"text-3xl text-black",children:"Please select another city."}),Object(I.jsx)("div",{className:"flex flex-col items-center mt-4 gap-4 text-indigo-900",children:Object(I.jsx)(m.b,{to:"/cities",children:Object(I.jsx)("button",{className:"btn",children:"Try with another city!"})})})]})})})},ee={getUniqCity:M.getUniqCity,getItinerariesOfACity:J.getItinerariesOfACity},te=Object(p.b)((function(e){return{uniqCity:e.cities.cityStore,itineraries:e.itineraries.itinerariesOfACityStore}}),ee)((function(e){var t=Object(r.useState)(!0),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(null),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useRef)();if(Object(r.useLayoutEffect)((function(){window.scrollTo(0,0)})),Object(r.useEffect)((function(){f.a.init({offset:120,duration:600})})),Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItinerariesOfACity(e.match.params.id);case 3:n(!1),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),n(!1),l(t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}e.getUniqCity(e.match.params.id),function(){t.apply(this,arguments)}()}),[]),o)return Object(I.jsx)("div",{children:Object(I.jsx)(G,{history:e.history})});if(c)return Object(I.jsx)("div",{children:Object(I.jsx)(q,{})});if(!e.uniqCity)return e.history.push("/cities"),!1;document.title=e.uniqCity.cityName;var x="text-white",h="text-black",p=function(){d.current.scrollIntoView({behavior:"smooth"})},g=Object(I.jsxs)("div",{style:{backgroundImage:'url("'.concat(e.uniqCity.imgSource,'")')},alt:e.uniqCity.cityName,className:"w-full h-96 bg-center bg-cover border-b-8 border-indigo-700 rounded-b-sm",children:[Object(I.jsx)(E,{textColorTag:e.uniqCity.textColorTag,history:e.history}),Object(I.jsxs)(C.a.div,{initial:{x:-1500},animate:{x:0},transition:{duration:.6,delay:.1,ease:"easeOut"},className:"text-6xl py-2 heroText bg-indigo-300 bg-opacity-90 mt-16 md:mt-0 text-center",children:[e.uniqCity.textColorTag,Object(I.jsx)(C.a.h2,{initial:{x:-900},animate:{x:0},transition:{duration:.8,delay:.3,ease:"easeOut"},className:"".concat(e.uniqCity.textColotTag?h:x),children:e.uniqCity.cityName})]})]},e.uniqCity._id);return Object(I.jsx)(I.Fragment,{children:o?Object(I.jsx)(G,{}):Object(I.jsxs)("div",{className:"",children:[g,Object(I.jsxs)("div",{className:"w-full h-40 flex justify-between md:justify-around items-center px-2.5 md:px-12 bg-indigo-100 border-b-4 border-gray-100",children:[Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.uniqCity.flag,'")')},"data-aos":"fade-up",className:"w-16 h-10 md:w-32 md:h-20 bg-center bg-cover rounded-md shadow-md"}),Object(I.jsxs)("div",{"data-aos":"fade-up",className:"w-auto h-20 flex items-center justify-center gap-2.5 p-2.5",children:[Object(I.jsx)(j.a,{icon:b.c,size:"2x",className:"transform scale-90 md:scale-100"}),Object(I.jsxs)("div",{className:"text-lg",children:[Object(I.jsxs)("h2",{children:[Object(I.jsx)("span",{className:"text-xl font-medium",children:e.uniqCity.currencySymbol})," ",e.uniqCity.codeISO]}),Object(I.jsxs)("h2",{className:"hidden",children:["(",e.uniqCity.currency,")"]})]})]}),Object(I.jsxs)("div",{"data-aos":"fade-up",className:"w-auto h-20 flex items-center justify-center gap-2.5 p-2.5",children:[Object(I.jsx)(j.a,{icon:b.e,size:"3x",className:"transform scale-90 md:scale-100"}),Object(I.jsx)("div",{className:"text-md md:text-lg",children:e.uniqCity.language.map((function(e,t){return Object(I.jsx)("h2",{children:e},t)}))})]})]}),Object(I.jsxs)("div",{className:"w-full flex items-center justify-center gap-12 py-3 px-2 md:px-0 ",children:[Object(I.jsx)(j.a,{icon:b.h,size:"4x",onClick:p,className:"animate-bounce transform scale-75 md:scale-100 cursor-pointer"}),Object(I.jsx)("h2",{className:"text-3xl md:text-4xl permanentMarkerFont",children:"Mytineraries"}),Object(I.jsx)(j.a,{icon:b.h,size:"4x",onClick:p,className:"animate-bounce transform scale-75 md:scale-100 cursor-pointer"})]}),Object(I.jsx)("div",{ref:d,"data-aos":"fade-up",children:e.itineraries.length<1?Object(I.jsx)($,{}):e.itineraries.map((function(e,t){return Object(I.jsx)(X,{itinerary:e},t)}))}),Object(I.jsxs)("div",{className:"".concat(e.itineraries.length<1&&"hidden"," flex justify-center gap-4"),children:[Object(I.jsx)(m.b,{to:"/",children:Object(I.jsx)("button",{className:"btn",children:"Back to home"})}),Object(I.jsx)(m.b,{to:"/cities",children:Object(I.jsx)("button",{className:"btn",children:"Back to cities"})})]})]})})})),ae=a(26),re=a(36),ce=a.n(re),ne={addNewUser:k.addNewUser,getCountriesList:k.getCountriesList},se=Object(p.b)((function(e){return{countriesList:e.users.countriesList}}),ne)((function(e){document.title="Sign up";var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)({}),j=Object(u.a)(d,2),b=j[0],x=j[1],h=Object(r.useState)({}),f=Object(u.a)(h,2),p=f[0],g=f[1],N=Object(r.useState)(!0),w=Object(u.a)(N,2),k=w[0],C=w[1],S=Object(r.useState)(!0),L=Object(u.a)(S,2),T=L[0],_=L[1];if(Object(r.useLayoutEffect)((function(){window.scrollTo(0,0)})),Object(r.useEffect)((function(){function t(){return(t=Object(y.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCountriesList();case 3:_(!1),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),_(!1),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),T)return Object(I.jsx)("div",{children:Object(I.jsx)(q,{})});var U=e.countriesList.map((function(e){return e.name.common}));U=U.sort();var P=function(e){if(!(e.target.value.length>0))return n("There are empty fields");if("userEmail"===e.target.name){if(!e.target.value.includes("@")||!e.target.value.includes("."))return l("The email must be at least 4 characters long, contain a @ and a .");l("")}if(n(""),"userPassword"===e.target.name){if(e.target.value.length<5)return l("The password must be at least 6 characters long, contain one upper case, one lower case and one number ");l("")}return n(""),x(Object(v.a)(Object(v.a)({},b),{},Object(ae.a)({},e.target.name,e.target.value))),5===Object.entries(b).length?C(!1):void 0},F=function(){var t=Object(y.a)(O.a.mark((function t(a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(Object.entries(b).length>0)){t.next=8;break}return t.next=4,e.addNewUser(b);case 4:(r=t.sent).data.success||(g({}),r.data.errors&&r.data.errors.map((function(e){return g((function(t){return Object(v.a)(Object(v.a)({},t),{},Object(ae.a)({},e.path,e.message))}))})),r.data.error&&l(r.data.error)),t.next=9;break;case 8:n("All fields are required");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(y.a)(O.a.mark((function t(a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={userEmail:a.profileObj.email,userPassword:a.profileObj.googleId,userName:a.profileObj.givenName,userLastName:a.profileObj.familyName,userPhoto:a.profileObj.imageUrl,userCountry:"Argentina",google:!0},t.next=3,e.addNewUser(r);case 3:(c=t.sent).data.success||l(c.data.error);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{style:{backgroundImage:'url("https://i.imgur.com/zJKyzjj.jpg")'},alt:"background plane",className:"w-full h-full bg-top bg-cover bg-fixed bg-opacity-70 ",children:Object(I.jsxs)("div",{className:"w-full h-full bg-indigo-200 bg-opacity-40",children:[Object(I.jsx)(E,{}),Object(I.jsxs)("div",{className:"flex w-11/12 mx-auto justify-center mt-16",children:[Object(I.jsx)("div",{className:"w-1/3 hidden md:block "}),Object(I.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center",children:[Object(I.jsxs)("div",{className:"flex flex-col h-40 md:h-full py-2",children:[Object(I.jsx)("h2",{className:"text-center text-4xl tracking-wide",children:"Create an account!"}),Object(I.jsx)("div",{className:"block md:hidden flex flex-col w-30 px-2.5 py-2 mt-4 text-justify bg-indigo-200 bg-opacity-80 rounded-sm shadow-md border border-gray-400 ".concat(""===o?"hidden":"block"),children:Object(I.jsx)("h2",{className:"".concat(""===o?"hidden":"block"," text-sm text-black"),children:o})})]}),Object(I.jsxs)("div",{className:"w-full",children:[Object(I.jsx)("input",{type:"email",name:"userEmail",placeholder:"* Enter your email",className:"inputBox w-full ",onChange:P}),Object(I.jsx)("div",{className:"w-full h-5 mb-1",children:p.userEmail&&Object(I.jsx)("h2",{className:"text-sm text-red-700",children:p.userEmail})})]}),Object(I.jsxs)("div",{className:"w-full",children:[Object(I.jsx)("input",{type:"password",name:"userPassword",placeholder:"* Enter your password",className:"inputBox w-full",onChange:P}),Object(I.jsx)("div",{className:"w-full h-5 mb-1",children:p.userPassword&&Object(I.jsx)("h2",{className:"text-sm text-red-700",children:p.userPassword})})]}),Object(I.jsxs)("div",{className:"w-full",children:[Object(I.jsx)("input",{type:"text",name:"userName",placeholder:"* Enter your name",className:"inputBox w-full",onChange:P}),Object(I.jsx)("div",{className:"w-full h-5 mb-1",children:p.userName&&Object(I.jsx)("h2",{className:"text-sm text-red-700",children:p.userName})})]}),Object(I.jsxs)("div",{className:"w-full",children:[Object(I.jsx)("input",{type:"text",name:"userLastName",placeholder:"* Enter your last name",className:"inputBox w-full",onChange:P}),Object(I.jsx)("div",{className:"w-full h-5 mb-1",children:p.userLastName&&Object(I.jsx)("h2",{className:"text-sm text-red-700",children:p.userLastName})})]}),Object(I.jsxs)("div",{className:"w-full",children:[Object(I.jsx)("input",{type:"text",name:"userPhoto",placeholder:"* Enter your photo",className:"inputBox w-full",onChange:P}),Object(I.jsx)("div",{className:"w-full h-5 mb-1",children:p.userPhoto&&Object(I.jsx)("h2",{className:"text-sm text-red-700",children:p.userPhoto})})]}),Object(I.jsxs)("div",{className:"",children:[Object(I.jsxs)("select",{name:"userCountry",className:"w-full bg-gradient-to-t from-indigo-500 to-indigo-200 px-4 py-2 text-lg ring-0 border rounded-md ",onChange:P,children:[Object(I.jsx)("option",{children:"* Select a country"}),U.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))]}),Object(I.jsx)("div",{className:"w-full h-5 mb-1",children:p.userCountry&&Object(I.jsx)("h2",{className:"text-sm text-red-700",children:p.userCountry})})]}),Object(I.jsxs)("div",{className:"w-full flex flex-col md:flex-row md:justify-center items-center md:items- gap-1 md:gap-4",children:[Object(I.jsx)("button",{onClick:F,disabled:k,className:" ".concat(k?"btnDisabled":"btn"," w-3/5 md:w-28 "),children:"Sign up!"}),Object(I.jsx)("h2",{className:"self-center ",children:"Or"}),Object(I.jsx)("div",{className:"w-3/5 ",children:Object(I.jsx)(ce.a,{clientId:"1086726256498-432u6e7a0ukbsfj0lnkqqf3bli5u3c5a.apps.googleusercontent.com",buttonText:"Sign up with Google",render:function(e){return Object(I.jsxs)("button",{className:"btn w-full flex items-center justify-center gap-2",onClick:e.onClick,disabled:e.disabled,children:[Object(I.jsx)("img",{className:"w-6 h-6",src:"https://i.imgur.com/kxqxIXj.png",alt:"Google icon"})," Sign up with Google"]})},onSuccess:B,onFailure:B,cookiePolicy:"single_host_origin",className:"btn"})})]})]}),Object(I.jsx)("div",{className:"w-1/3 hidden md:block",children:Object(I.jsxs)("div",{className:"flex flex-col py-2",children:[Object(I.jsx)("div",{className:"h-10"}),Object(I.jsx)("div",{className:"flex flex-col w-30 px-2.5 py-2 ml-1.5 mt-4 text-justify bg-indigo-200 bg-opacity-80 rounded-sm shadow-md border border-gray-400 ".concat(""===o?"hidden":"block"),children:Object(I.jsx)("h2",{className:"".concat(""===o?"hidden":"block"," text-black"),children:o})}),Object(I.jsx)("div",{className:"flex flex-col w-30 px-2.5 py-2 ml-1.5 mt-4 text-justify bg-indigo-200 bg-opacity-80 rounded-sm shadow-md border border-gray-400 ".concat(""===!b?"block":"hidden"),children:Object(I.jsx)("h2",{className:"".concat(""===b?"hidden":"block"," text-black"),children:c})})]})})]}),Object(I.jsx)("div",{className:"px-16 md:px-0 flex justify-center pb-12 text-center",children:Object(I.jsxs)("h2",{children:["If you already have an account, click here to ",Object(I.jsx)(m.b,{to:"/login",className:"text-lg text-indigo-700",children:"Log in!"})]})})]})})})),ie={logInUser:k.logInUser},oe=Object(p.b)(null,ie)((function(e){document.title="Log in";var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)({}),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(!0),j=Object(u.a)(d,2),b=j[0],x=j[1];Object(r.useLayoutEffect)((function(){window.scrollTo(0,0)}));var h=function(e){if(e.target.value.length>0){var t;if("userEmail"===e.target.name){if(!e.target.value.includes("@")||!e.target.value.includes("."))return n("The email must be at least 4 characters long, contain a @ and a .");n("")}if("userPassword"===e.target.name){if(e.target.value.length<5)return n("The password must be at least 6 characters long, contain one upper case, one lower case and one number ");n("")}return l(Object(v.a)(Object(v.a)({},o),{},(t={},Object(ae.a)(t,e.target.name,e.target.value),Object(ae.a)(t,"googleLogIn",!1),t))),3===Object.entries(o).length?x(!1):n("there are empty fields")}},f=function(){var t=Object(y.a)(O.a.mark((function t(a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.logInUser(o);case 3:(r=t.sent).data.success||n(r.data.error);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(y.a)(O.a.mark((function t(a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={userEmail:a.profileObj.email,userPassword:a.profileObj.googleId,googleLogIn:!0},t.next=3,e.logInUser(r);case 3:(c=t.sent).data.success||n(c.data.error);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{style:{backgroundImage:'url("https://i.imgur.com/zJKyzjj.jpg")'},alt:"background plane",className:"w-full h-full bg-top bg-cover bg-fixed bg-opacity-70 ",children:Object(I.jsxs)("div",{className:"w-full h-screen bg-indigo-200 bg-opacity-40",children:[Object(I.jsx)(E,{}),Object(I.jsxs)("div",{className:"flex w-11/12 mx-auto justify-center mt-16",children:[Object(I.jsx)("div",{className:"w-1/3 h-10 hidden md:block"}),Object(I.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center",children:[Object(I.jsx)("div",{className:"flex flex-col py-2",children:Object(I.jsx)("h2",{className:"text-center text-3xl md:text-4xl tracking-wide ",children:"Log into your account!"})}),Object(I.jsx)("div",{className:"block md:hidden flex flex-col w-30 px-2.5 py-2 ml-1.5 mt- md:mt-14 text-justify bg-indigo-200 bg-opacity-80 rounded-sm shadow-md border border-gray-400 ".concat(""===c?"hidden":"block"),children:Object(I.jsx)("h2",{className:"".concat(""===c?"hidden":"block"," text-sm text-black"),children:c})}),Object(I.jsxs)("div",{className:"w-full",children:[Object(I.jsx)("input",{type:"email",name:"userEmail",placeholder:"* Enter your email",className:"inputBox w-full ",onChange:h}),Object(I.jsx)("div",{className:"w-full h-5 mb-1"})]}),Object(I.jsxs)("div",{className:"w-full",children:[Object(I.jsx)("input",{type:"password",name:"userPassword",placeholder:"* Enter your password",className:"inputBox w-full",onChange:h}),Object(I.jsx)("div",{className:"w-full h-5 mb-1"})]}),Object(I.jsxs)("div",{className:"w-full flex flex-col md:flex-row md:justify-center items-center gap-1 md:gap-4",children:[Object(I.jsx)("button",{onClick:f,disabled:b,className:" ".concat(b?"btnDisabled":"btn"," "),children:"Log in!"}),Object(I.jsx)("h2",{children:"Or"}),Object(I.jsx)("div",{className:"",children:Object(I.jsx)(ce.a,{clientId:"1086726256498-432u6e7a0ukbsfj0lnkqqf3bli5u3c5a.apps.googleusercontent.com",buttonText:"Sign up with Google",render:function(e){return Object(I.jsxs)("button",{className:"btn flex items-center gap-2",onClick:e.onClick,disabled:e.disabled,children:[Object(I.jsx)("img",{className:"w-6 h-6",src:"https://i.imgur.com/kxqxIXj.png",alt:"Google icon"})," Sign up with Google"]})},onSuccess:p,onFailure:p,cookiePolicy:"single_host_origin",className:"btn"})})]})]}),Object(I.jsx)("div",{className:"w-1/3 hidden md:block",children:Object(I.jsx)("div",{className:"flex flex-col py-2",children:Object(I.jsx)("div",{className:"flex flex-col w-30 px-2.5 py-2 ml-1.5 mt-14 text-justify bg-indigo-200 bg-opacity-80 rounded-sm shadow-md border border-gray-400 ".concat(""===c?"hidden":"block"),children:Object(I.jsx)("h2",{className:"".concat(""===c?"hidden":"block"," text-black"),children:c})})})})]}),Object(I.jsx)("div",{className:"px-16 md:px-0 flex justify-center text-center ",children:Object(I.jsxs)("h2",{children:["If you already have an account, click here to ",Object(I.jsx)(m.b,{to:"/signup",className:"text-lg text-indigo-700",children:"Sign up!"})]})})]})})})),le=a(37),de={logOutUser:k.logOutUser},ue=Object(p.b)((function(e){return{token:e.users.token,userName:e.users.userNameStore,userPhoto:e.users.userPhotoStore}}),de)((function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(x.a)((function(){n(!1)}));Object(r.useEffect)((function(){f.a.init({offset:120,duration:600})}),[]);var i={visible:{opacity:1,x:0},hidden:{opacity:0,x:-100}};return Object(I.jsxs)("footer",{className:"bg-indigo-500 gap-2 sm:gap-0 bg-opacity-90 w-full h-60 flex flex-col justify-between ",children:[Object(I.jsxs)("div",{"data-aos":"fade-up",className:"flex flex-col items-center justify-center w-full px-12 gap-2 md:flex md:flex-row md:justify-center  md:items-center md:w-full md:h-3/5 pt-4 lg:px-40",children:[Object(I.jsxs)("div",{className:" justify-center items-center  gap-3 text-4xl pt-8 font-semibold tracking-wider hidden md:block permanentMarkerFont",children:[Object(I.jsx)("img",{src:"https://i.imgur.com/slgCIZZ.png",alt:"logo mytinenrary",className:"w-24 h-24"}),Object(I.jsx)("h1",{children:"Mytinerary"})]}),Object(I.jsxs)("div",{className:"flex justify-between md:justify-around w-full h-24 gap-6 md:gap-2 md:flex md:flex-row md:items-center md:justify-center text-lg md:text-2xl lg:gap-10",children:[Object(I.jsxs)("div",{className:"flex items-center gap-4 md:text-2xl pl-2 md:pl-0",children:[Object(I.jsx)(m.c,{exact:!0,to:"/",activeClassName:"text-indigo-700",className:"hover:text-indigo-700",children:Object(I.jsx)("h2",{children:"Home"})}),Object(I.jsx)(m.c,{to:"/cities",activeClassName:"text-indigo-700",className:"hover:text-indigo-700",children:Object(I.jsx)("h2",{children:"Cities"})}),Object(I.jsx)("div",{className:"hidden md:block ml-12 text-2xl text-center",children:Object(I.jsx)("h2",{children:e.userName&&"Welcome ".concat(e.userName)})})]}),Object(I.jsxs)(C.a.div,{ref:s,className:"flex items-center gap-2",children:[Object(I.jsxs)(C.a.div,{initial:c?"hidden":"visible",animate:c?"visible":"hidden",variants:{visible:{opacity:1},hidden:{opacity:0}},className:"flex flex-col items-end pt-0 md:pt-3 gap-2 ",children:[Object(I.jsx)(C.a.div,{variants:i,children:!e.token&&Object(I.jsx)(m.c,{to:"/signup",activeClassName:"text-indigo-700",className:"text-xl md:text-2xl hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Sign up"})})}),Object(I.jsx)(C.a.div,{variants:i,children:!e.token&&Object(I.jsx)(m.c,{to:"/login",activeClassName:"text-indigo-700",className:"text-xl md:text-2xl hover:text-indigo-700",children:Object(I.jsx)("p",{children:"Log in"})})}),Object(I.jsx)(C.a.div,{variants:i,children:e.token&&Object(I.jsx)("p",{className:"text-xl md:text-2xl cursor-pointer hover:text-indigo-700",children:e.userName})}),Object(I.jsx)(C.a.div,{variants:i,children:e.token&&Object(I.jsx)("p",{onClick:function(){e.logOutUser()},className:"text-xl md:text-2xl cursor-pointer hover:text-indigo-700",children:"Log out"})})]}),Object(I.jsx)(C.a.div,{whileHover:{scale:1.1},onClick:function(){return n(!c)},className:"",children:e.token?Object(I.jsx)("div",{style:{backgroundImage:'url("'.concat(e.userPhoto,'")')},className:"w-20 h-20 bg-cover bg-center rounded-full cursor-pointer"}):Object(I.jsx)(j.a,{icon:b.k,size:"4x",className:"text-indigo-900 cursor-pointer transform scale-90"})})]})]}),Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"flex flex-row items-start md:flex md:flex-col md:justify-center gap-8 md:gap-2 md:pt-10",children:[Object(I.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noreferrer",className:"transform scale-90 hover:scale-110",children:Object(I.jsx)(j.a,{icon:le.a,size:"3x"})}),Object(I.jsx)("a",{href:"https://www.instagram.com",target:"_blank",rel:"noreferrer",className:"transform scale-90 hover:scale-110",children:Object(I.jsx)(j.a,{icon:le.b,size:"3x"})}),Object(I.jsx)("a",{href:"https://twitter.com/?lang=es",target:"_blank",rel:"noreferrer",className:"transform scale-90 hover:scale-110",children:Object(I.jsx)(j.a,{icon:le.c,size:"3x"})})]})})]}),Object(I.jsx)("div",{className:"text-center pb-4 text-indigo-700",children:Object(I.jsx)("h2",{children:"Juan Eduardo Castro Trujillo - Mytinerary project 2021 - All rights reserved"})})]})})),me=a(15),je={logInLocalStorage:k.logInLocalStorage},be=Object(p.b)((function(e){return{token:e.users.token}}),je)((function(e){return Object(r.useEffect)((function(){localStorage.getItem("token")&&e.logInLocalStorage(localStorage.getItem("token"))}),[]),Object(I.jsxs)(m.a,{children:[Object(I.jsxs)(me.d,{children:[Object(I.jsx)(me.b,{exact:!0,path:"/",component:z}),Object(I.jsx)(me.b,{path:"/cities",component:H}),Object(I.jsx)(me.b,{path:"/city/:id",component:te}),Object(I.jsx)(me.b,{path:"/loader",component:q}),!e.token&&Object(I.jsx)(me.b,{path:"/signup",component:se}),!e.token&&Object(I.jsx)(me.b,{path:"/login",component:oe}),Object(I.jsx)(me.b,{path:"/error404",component:G}),e.token?Object(I.jsx)(me.a,{to:"/"}):Object(I.jsx)(me.a,{to:"/Error404"})]}),Object(I.jsx)(ue,{})]})})),xe=a(31),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{citiesListStore:[],citiesFilteredStore:[],cityStore:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES_LIST":return Object(v.a)(Object(v.a)({},e),{},{citiesListStore:t.payload});case"GET_CITIES_FILTERED":var a=e.citiesListStore.filter((function(e){return e.cityName.toLowerCase().startsWith(t.payload.toLowerCase().trim())}));return Object(v.a)(Object(v.a)({},e),{},{citiesFilteredStore:a});case"GET_UNIQ_CITY":var r=e.citiesListStore.find((function(e){return e._id===t.payload}));return Object(v.a)(Object(v.a)({},e),{},{cityStore:r});default:return e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itinerariesStore:[],itinerariesOfACityStore:[],commentsStore:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":return Object(v.a)(Object(v.a)({},e),{},{itinerariesStore:t.payload});case"GET_ITINERARIES_FROM_A_CITY":return Object(v.a)(Object(v.a)({},e),{},{itinerariesOfACityStore:t.payload});default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,userNameStore:null,userPhotoStore:null,userEmailStore:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN_USER":return localStorage.setItem("token",t.payload.token),localStorage.setItem("userName",t.payload.userName),localStorage.setItem("userPhoto",t.payload.userPhoto),localStorage.setItem("userEmail",t.payload.userEmail),{token:t.payload.token,userNameStore:t.payload.userName,userPhotoStore:t.payload.userPhoto,userEmailStore:t.payload.userEmail};case"LOG_OUT_USER":return localStorage.removeItem("token"),localStorage.removeItem("userName"),localStorage.removeItem("userPhoto"),localStorage.removeItem("userEmail"),{token:null,userNameStore:null,userPhotoStore:null,userEmailStore:null};case"GET_COUNTRIES_LIST":return{countriesList:t.payload};default:return e}},ge=Object(xe.b)({cities:he,itineraries:fe,users:pe}),Oe=a(55),ve=Object(xe.c)(ge,Object(xe.a)(Oe.a));s.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(p.a,{store:ve,children:Object(I.jsx)(be,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.f5aebaef.chunk.js.map